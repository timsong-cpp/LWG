<?xml version='1.0' encoding='utf-8' standalone='no'?>
<!DOCTYPE issue SYSTEM "lwg-issue.dtd">

<issue num="3490" status="New">
<title><tt>ranges::drop_while_view::begin()</tt> is missing a precondition</title>
<section><sref ref="[range.drop.while.view]"/></section>
<submitter>Michael Schellenberger Costa</submitter>
<date>13 Oct 2020</date>
<priority>99</priority>

<discussion>
<p>
Similar to <tt>ranges::filter_view</tt> <sref ref="[range.filter.view]"/> p3, <tt>ranges::drop_while_view</tt> 
should have a precondition on its <tt>begin()</tt> method that the predicate is set.
<p/>
I propose to add as <sref ref="[range.drop.while.view]"/> p3:
</p>
<blockquote><pre>
<ins><i>Preconditions:</i> <tt><i>pred_</i>.has_value()</tt>.</ins>  
</pre></blockquote>

</discussion>

<resolution>
<p>
This wording is relative to <a href="https://wg21.link/n4868">N4868</a>. 
</p>

<ol>
<li>
<p>
Modify <sref ref="[range.drop.while.view]"/> as indicated:
</p>
<blockquote>
<pre>
constexpr auto begin();
</pre>
<blockquote>
<p>
<ins>-?- <i>Preconditions:</i> <tt><i>pred_</i>.has_value()</tt>.</ins>
<p/>
-3- <i>Returns:</i> <tt>ranges::find_if_not(<i>base_</i>, cref(*<i>pred_</i>))</tt>.
<p/>
-4- [&hellip;]
</p>
</blockquote>
</blockquote>
</li>
</ol>
</resolution>

</issue>
